{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Admin/Desktop/sty/diplom3/rideshare-frontend/src/components/Map.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useRef } from 'react';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport 'leaflet-routing-machine';\nimport 'leaflet-routing-machine/dist/leaflet-routing-machine.css';\n\n// Extend the L namespace with routing types\ndeclare global {\n  namespace L {\n    namespace Routing {\n      interface RoutingControl extends L.Control {\n        getPlan(): RoutingPlan;\n        getRouter(): any;\n        route(): void;\n        setRouter(router: any): void;\n        on(event: string, callback: (e: any) => void): void;\n        remove(): void;\n      }\n\n      interface RoutingControlOptions {\n        waypoints: L.LatLng[];\n        routeWhileDragging?: boolean;\n        showAlternatives?: boolean;\n        addWaypoints?: boolean;\n        draggableWaypoints?: boolean;\n        fitSelectedRoutes?: boolean;\n        lineOptions?: {\n          styles: {\n            color: string;\n            opacity: number;\n            weight: number;\n          }[];\n        };\n        createMarker?(i: number, waypoint: any, n: number): L.Marker;\n        show?: boolean;\n        router?: any;\n      }\n\n      interface RoutingPlan extends L.Evented {\n        setWaypoints(waypoints: L.LatLng[]): RoutingPlan;\n      }\n    }\n\n    function routing(options: Routing.RoutingControlOptions): Routing.RoutingControl;\n  }\n}\n\n// Fix for default markers\nconst DefaultIcon = L.Icon.Default;\nL.Icon.Default.imagePath = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/';\n\n// Default coordinates (Moscow center)\nconst DEFAULT_COORDS: [number, number] = [55.7558, 37.6173];\n\ninterface MapProps {\n  departureCoords?: [number, number];\n  destinationCoords?: [number, number];\n  onMapClick?: (coords: [number, number]) => void;\n  onMarkerDrag?: (coords: [number, number]) => void;\n  interactive?: boolean;\n}\n\nconst Map = ({ \n  departureCoords = DEFAULT_COORDS, \n  destinationCoords = DEFAULT_COORDS, \n  onMapClick, \n  onMarkerDrag, \n  interactive = true \n}: MapProps) => {\n  const mapRef = useRef<L.Map | null>(null);\n  const routingControlRef = useRef<any>(null);\n  const mapContainerRef = useRef<HTMLDivElement>(null);\n  const mapId = useRef(`map-${Math.random().toString(36).substr(2, 9)}`);\n\n  useEffect(() => {\n    // Validate coordinates\n    const validDeparture = Array.isArray(departureCoords) && departureCoords.length === 2 &&\n      !isNaN(departureCoords[0]) && !isNaN(departureCoords[1]);\n    const validDestination = Array.isArray(destinationCoords) && destinationCoords.length === 2 &&\n      !isNaN(destinationCoords[0]) && !isNaN(destinationCoords[1]);\n\n    if (!validDeparture || !validDestination) {\n      console.error('Invalid coordinates provided:', { departureCoords, destinationCoords });\n      return;\n    }\n\n    // Define marker icons\n    const blueIcon = new L.Icon({\n      iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png',\n      shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n      iconSize: [25, 41],\n      iconAnchor: [12, 41],\n      popupAnchor: [1, -34],\n      shadowSize: [41, 41]\n    });\n\n    const redIcon = new L.Icon({\n      iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',\n      shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n      iconSize: [25, 41],\n      iconAnchor: [12, 41],\n      popupAnchor: [1, -34],\n      shadowSize: [41, 41]\n    });\n\n    // Clean up existing map and routing control\n    const cleanup = () => {\n      if (routingControlRef.current) {\n        routingControlRef.current.remove();\n        routingControlRef.current = null;\n      }\n      if (mapRef.current) {\n        mapRef.current.remove();\n        mapRef.current = null;\n      }\n    };\n\n    // Clean up before initializing new map\n    cleanup();\n\n    // Initialize map\n    mapRef.current = L.map(mapId.current, {\n      center: departureCoords,\n      zoom: 13,\n      layers: [\n        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n          attribution: '© OpenStreetMap contributors'\n        })\n      ]\n    });\n\n    // Add markers\n    const departureMarker = L.marker([departureCoords[0], departureCoords[1]], { icon: blueIcon })\n      .bindPopup('Отправление')\n      .addTo(mapRef.current);\n\n    const destinationMarker = L.marker([destinationCoords[0], destinationCoords[1]], { icon: redIcon })\n      .bindPopup('Прибытие')\n      .addTo(mapRef.current);\n\n    // Create custom router\n    const customRouter = L.Routing.OSRMv1.extend({\n      options: {\n        serviceUrl: 'https://router.project-osrm.org/route/v1'\n      },\n      _route: function(waypoints: L.Routing.Waypoint[], callback: Function, context: any, options: any) {\n        const url = this.options.serviceUrl;\n        const coordinates = waypoints.map(w => `${w.latLng.lng},${w.latLng.lat}`).join(';');\n        \n        fetch(`${url}/driving/${coordinates}?overview=false&alternatives=true&steps=true`, {\n          method: 'GET',\n          headers: {\n            'Accept': 'application/json'\n          }\n        })\n        .then(response => response.json())\n        .then(data => {\n          if (data.error) {\n            callback.call(context, data.error);\n            return;\n          }\n\n          const route = {\n            name: '',\n            coordinates: data.routes[0].geometry.coordinates.map((coord: number[]) => [coord[1], coord[0]]),\n            summary: {\n              totalDistance: data.routes[0].distance,\n              totalTime: data.routes[0].duration\n            },\n            instructions: data.routes[0].legs[0].steps.map((step: any) => ({\n              text: step.maneuver.instruction,\n              distance: step.distance,\n              time: step.duration,\n              type: step.maneuver.type\n            }))\n          };\n\n          callback.call(context, null, [route]);\n        })\n        .catch(error => {\n          console.error('Routing error:', error);\n          callback.call(context, error);\n        });\n      }\n    });\n\n    // Add routing control\n    routingControlRef.current = L.Routing.control({\n      waypoints: [\n        L.latLng(departureCoords[0], departureCoords[1]),\n        L.latLng(destinationCoords[0], destinationCoords[1])\n      ],\n      router: new customRouter(),\n      routeWhileDragging: false,\n      showAlternatives: false,\n      addWaypoints: false,\n      draggableWaypoints: false,\n      fitSelectedRoutes: true,\n      lineOptions: {\n        styles: [\n          { color: '#4F46E5', opacity: 0.8, weight: 6 }\n        ]\n      },\n      createMarker: (i: number, waypoint: any) => {\n        const icon = i === 0 ? blueIcon : redIcon;\n        const marker = L.marker(waypoint.latLng, { icon });\n        marker.bindPopup(i === 0 ? 'Отправление' : 'Прибытие');\n        return marker;\n      },\n      show: true\n    }).addTo(mapRef.current);\n\n    // Fit bounds to show the entire route\n    const bounds = L.latLngBounds([departureCoords, destinationCoords]);\n    mapRef.current.fitBounds(bounds, { padding: [50, 50] });\n\n    // Add click handler if interactive\n    if (interactive && onMapClick) {\n      mapRef.current.on('click', (e: L.LeafletMouseEvent) => {\n        const { lat, lng } = e.latlng;\n        onMapClick([lat, lng]);\n      });\n    }\n\n    // Cleanup function\n    return cleanup;\n  }, [departureCoords, destinationCoords, interactive, onMapClick]);\n\n  return (\n    <div \n      ref={mapContainerRef}\n      id={mapId.current}\n      className=\"w-full h-full rounded-lg shadow-md\" \n      style={{ minHeight: '400px' }} \n    />\n  );\n};\n\nexport default Map; "],"names":[],"mappings":";;;;AAEA;AAEA;AACA;AALA;;;;;;;AAiDA,0BAA0B;AAC1B,MAAM,cAAc,iJAAA,CAAA,UAAC,CAAC,IAAI,CAAC,OAAO;AAClC,iJAAA,CAAA,UAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG;AAE3B,sCAAsC;AACtC,MAAM,iBAAmC;IAAC;IAAS;CAAQ;AAU3D,MAAM,MAAM,CAAC,EACX,kBAAkB,cAAc,EAChC,oBAAoB,cAAc,EAClC,UAAU,EACV,YAAY,EACZ,cAAc,IAAI,EACT;IACT,MAAM,SAAS,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAgB;IACpC,MAAM,oBAAoB,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAO;IACtC,MAAM,kBAAkB,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAkB;IAC/C,MAAM,QAAQ,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAE,CAAC,IAAI,EAAE,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG,IAAI;IAErE,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,uBAAuB;QACvB,MAAM,iBAAiB,MAAM,OAAO,CAAC,oBAAoB,gBAAgB,MAAM,KAAK,KAClF,CAAC,MAAM,eAAe,CAAC,EAAE,KAAK,CAAC,MAAM,eAAe,CAAC,EAAE;QACzD,MAAM,mBAAmB,MAAM,OAAO,CAAC,sBAAsB,kBAAkB,MAAM,KAAK,KACxF,CAAC,MAAM,iBAAiB,CAAC,EAAE,KAAK,CAAC,MAAM,iBAAiB,CAAC,EAAE;QAE7D,IAAI,CAAC,kBAAkB,CAAC,kBAAkB;YACxC,QAAQ,KAAK,CAAC,iCAAiC;gBAAE;gBAAiB;YAAkB;YACpF;QACF;QAEA,sBAAsB;QACtB,MAAM,WAAW,IAAI,iJAAA,CAAA,UAAC,CAAC,IAAI,CAAC;YAC1B,SAAS;YACT,WAAW;YACX,UAAU;gBAAC;gBAAI;aAAG;YAClB,YAAY;gBAAC;gBAAI;aAAG;YACpB,aAAa;gBAAC;gBAAG,CAAC;aAAG;YACrB,YAAY;gBAAC;gBAAI;aAAG;QACtB;QAEA,MAAM,UAAU,IAAI,iJAAA,CAAA,UAAC,CAAC,IAAI,CAAC;YACzB,SAAS;YACT,WAAW;YACX,UAAU;gBAAC;gBAAI;aAAG;YAClB,YAAY;gBAAC;gBAAI;aAAG;YACpB,aAAa;gBAAC;gBAAG,CAAC;aAAG;YACrB,YAAY;gBAAC;gBAAI;aAAG;QACtB;QAEA,4CAA4C;QAC5C,MAAM,UAAU;YACd,IAAI,kBAAkB,OAAO,EAAE;gBAC7B,kBAAkB,OAAO,CAAC,MAAM;gBAChC,kBAAkB,OAAO,GAAG;YAC9B;YACA,IAAI,OAAO,OAAO,EAAE;gBAClB,OAAO,OAAO,CAAC,MAAM;gBACrB,OAAO,OAAO,GAAG;YACnB;QACF;QAEA,uCAAuC;QACvC;QAEA,iBAAiB;QACjB,OAAO,OAAO,GAAG,iJAAA,CAAA,UAAC,CAAC,GAAG,CAAC,MAAM,OAAO,EAAE;YACpC,QAAQ;YACR,MAAM;YACN,QAAQ;gBACN,iJAAA,CAAA,UAAC,CAAC,SAAS,CAAC,sDAAsD;oBAChE,aAAa;gBACf;aACD;QACH;QAEA,cAAc;QACd,MAAM,kBAAkB,iJAAA,CAAA,UAAC,CAAC,MAAM,CAAC;YAAC,eAAe,CAAC,EAAE;YAAE,eAAe,CAAC,EAAE;SAAC,EAAE;YAAE,MAAM;QAAS,GACzF,SAAS,CAAC,eACV,KAAK,CAAC,OAAO,OAAO;QAEvB,MAAM,oBAAoB,iJAAA,CAAA,UAAC,CAAC,MAAM,CAAC;YAAC,iBAAiB,CAAC,EAAE;YAAE,iBAAiB,CAAC,EAAE;SAAC,EAAE;YAAE,MAAM;QAAQ,GAC9F,SAAS,CAAC,YACV,KAAK,CAAC,OAAO,OAAO;QAEvB,uBAAuB;QACvB,MAAM,eAAe,iJAAA,CAAA,UAAC,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC;YAC3C,SAAS;gBACP,YAAY;YACd;YACA,QAAQ,SAAS,SAA+B,EAAE,QAAkB,EAAE,OAAY,EAAE,OAAY;gBAC9F,MAAM,MAAM,IAAI,CAAC,OAAO,CAAC,UAAU;gBACnC,MAAM,cAAc,UAAU,GAAG,CAAC,CAAA,IAAK,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,EAAE,EAAE,IAAI,CAAC;gBAE/E,MAAM,GAAG,IAAI,SAAS,EAAE,YAAY,4CAA4C,CAAC,EAAE;oBACjF,QAAQ;oBACR,SAAS;wBACP,UAAU;oBACZ;gBACF,GACC,IAAI,CAAC,CAAA,WAAY,SAAS,IAAI,IAC9B,IAAI,CAAC,CAAA;oBACJ,IAAI,KAAK,KAAK,EAAE;wBACd,SAAS,IAAI,CAAC,SAAS,KAAK,KAAK;wBACjC;oBACF;oBAEA,MAAM,QAAQ;wBACZ,MAAM;wBACN,aAAa,KAAK,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,QAAoB;gCAAC,KAAK,CAAC,EAAE;gCAAE,KAAK,CAAC,EAAE;6BAAC;wBAC9F,SAAS;4BACP,eAAe,KAAK,MAAM,CAAC,EAAE,CAAC,QAAQ;4BACtC,WAAW,KAAK,MAAM,CAAC,EAAE,CAAC,QAAQ;wBACpC;wBACA,cAAc,KAAK,MAAM,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAc,CAAC;gCAC7D,MAAM,KAAK,QAAQ,CAAC,WAAW;gCAC/B,UAAU,KAAK,QAAQ;gCACvB,MAAM,KAAK,QAAQ;gCACnB,MAAM,KAAK,QAAQ,CAAC,IAAI;4BAC1B,CAAC;oBACH;oBAEA,SAAS,IAAI,CAAC,SAAS,MAAM;wBAAC;qBAAM;gBACtC,GACC,KAAK,CAAC,CAAA;oBACL,QAAQ,KAAK,CAAC,kBAAkB;oBAChC,SAAS,IAAI,CAAC,SAAS;gBACzB;YACF;QACF;QAEA,sBAAsB;QACtB,kBAAkB,OAAO,GAAG,iJAAA,CAAA,UAAC,CAAC,OAAO,CAAC,OAAO,CAAC;YAC5C,WAAW;gBACT,iJAAA,CAAA,UAAC,CAAC,MAAM,CAAC,eAAe,CAAC,EAAE,EAAE,eAAe,CAAC,EAAE;gBAC/C,iJAAA,CAAA,UAAC,CAAC,MAAM,CAAC,iBAAiB,CAAC,EAAE,EAAE,iBAAiB,CAAC,EAAE;aACpD;YACD,QAAQ,IAAI;YACZ,oBAAoB;YACpB,kBAAkB;YAClB,cAAc;YACd,oBAAoB;YACpB,mBAAmB;YACnB,aAAa;gBACX,QAAQ;oBACN;wBAAE,OAAO;wBAAW,SAAS;wBAAK,QAAQ;oBAAE;iBAC7C;YACH;YACA,cAAc,CAAC,GAAW;gBACxB,MAAM,OAAO,MAAM,IAAI,WAAW;gBAClC,MAAM,SAAS,iJAAA,CAAA,UAAC,CAAC,MAAM,CAAC,SAAS,MAAM,EAAE;oBAAE;gBAAK;gBAChD,OAAO,SAAS,CAAC,MAAM,IAAI,gBAAgB;gBAC3C,OAAO;YACT;YACA,MAAM;QACR,GAAG,KAAK,CAAC,OAAO,OAAO;QAEvB,sCAAsC;QACtC,MAAM,SAAS,iJAAA,CAAA,UAAC,CAAC,YAAY,CAAC;YAAC;YAAiB;SAAkB;QAClE,OAAO,OAAO,CAAC,SAAS,CAAC,QAAQ;YAAE,SAAS;gBAAC;gBAAI;aAAG;QAAC;QAErD,mCAAmC;QACnC,IAAI,eAAe,YAAY;YAC7B,OAAO,OAAO,CAAC,EAAE,CAAC,SAAS,CAAC;gBAC1B,MAAM,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,MAAM;gBAC7B,WAAW;oBAAC;oBAAK;iBAAI;YACvB;QACF;QAEA,mBAAmB;QACnB,OAAO;IACT,GAAG;QAAC;QAAiB;QAAmB;QAAa;KAAW;IAEhE,qBACE,8OAAC;QACC,KAAK;QACL,IAAI,MAAM,OAAO;QACjB,WAAU;QACV,OAAO;YAAE,WAAW;QAAQ;;;;;;AAGlC;uCAEe","debugId":null}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Admin/Desktop/sty/diplom3/rideshare-frontend/src/components/BookingModal.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Modal, Form, Input, Button, message } from 'antd';\nimport { BookingModalProps } from '@/types/trip';\n\nconst BookingModal: React.FC<BookingModalProps> = ({ trip, visible, onClose, onSuccess }) => {\n  const [loading, setLoading] = useState(false);\n  const [form] = Form.useForm();\n\n  const handleBooking = async (values: { seats: number }) => {\n    if (!trip) return;\n\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('access_token');\n      const response = await fetch(`http://localhost:8000/api/trips/${trip.id}/book/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`,\n        },\n        body: JSON.stringify({ seats_booked: values.seats }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.error || 'Failed to book trip');\n      }\n\n      message.success('Trip booked successfully!');\n      onSuccess();\n    } catch (error) {\n      if (error instanceof Error) {\n        message.error(error.message);\n      } else {\n        message.error('Failed to book trip. Please try again.');\n      }\n      console.error('Booking error:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Modal\n      title=\"Book Trip\"\n      open={visible}\n      onCancel={onClose}\n      footer={null}\n    >\n      <Form\n        form={form}\n        onFinish={handleBooking}\n        layout=\"vertical\"\n      >\n        <Form.Item\n          label=\"Number of Seats\"\n          name=\"seats\"\n          rules={[\n            { required: true, message: 'Please enter number of seats' },\n            { \n              validator: (_, value) => {\n                const seats = Number(value);\n                if (isNaN(seats)) {\n                  return Promise.reject('Please enter a valid number');\n                }\n                if (seats < 1) {\n                  return Promise.reject('Must be at least 1 seat');\n                }\n                if (trip && seats > trip.available_seats) {\n                  return Promise.reject(`Maximum ${trip.available_seats} seats available`);\n                }\n                return Promise.resolve();\n              }\n            }\n          ]}\n        >\n          <Input \n            type=\"number\" \n            min={1} \n            max={trip?.available_seats || 1} \n            disabled={!trip || trip.available_seats <= 0}\n            onChange={(e) => {\n              const value = e.target.value;\n              form.setFieldValue('seats', value ? parseInt(value, 10) : undefined);\n            }}\n          />\n        </Form.Item>\n\n        <Form.Item>\n          <Button \n            type=\"primary\" \n            htmlType=\"submit\" \n            loading={loading} \n            block\n            disabled={!trip || trip.available_seats <= 0}\n          >\n            Book Now\n          </Button>\n        </Form.Item>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default BookingModal; "],"names":[],"mappings":";;;;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;;;;AAGA,MAAM,eAA4C,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE;IACtF,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,KAAK,GAAG,8KAAA,CAAA,OAAI,CAAC,OAAO;IAE3B,MAAM,gBAAgB,OAAO;QAC3B,IAAI,CAAC,MAAM;QAEX,IAAI;YACF,WAAW;YACX,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,WAAW,MAAM,MAAM,CAAC,gCAAgC,EAAE,KAAK,EAAE,CAAC,MAAM,CAAC,EAAE;gBAC/E,QAAQ;gBACR,SAAS;oBACP,gBAAgB;oBAChB,iBAAiB,CAAC,OAAO,EAAE,OAAO;gBACpC;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE,cAAc,OAAO,KAAK;gBAAC;YACpD;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,YAAY,MAAM,SAAS,IAAI;gBACrC,MAAM,IAAI,MAAM,UAAU,KAAK,IAAI;YACrC;YAEA,oLAAA,CAAA,UAAO,CAAC,OAAO,CAAC;YAChB;QACF,EAAE,OAAO,OAAO;YACd,IAAI,iBAAiB,OAAO;gBAC1B,oLAAA,CAAA,UAAO,CAAC,KAAK,CAAC,MAAM,OAAO;YAC7B,OAAO;gBACL,oLAAA,CAAA,UAAO,CAAC,KAAK,CAAC;YAChB;YACA,QAAQ,KAAK,CAAC,kBAAkB;QAClC,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC,gLAAA,CAAA,QAAK;QACJ,OAAM;QACN,MAAM;QACN,UAAU;QACV,QAAQ;kBAER,cAAA,8OAAC,8KAAA,CAAA,OAAI;YACH,MAAM;YACN,UAAU;YACV,QAAO;;8BAEP,8OAAC,8KAAA,CAAA,OAAI,CAAC,IAAI;oBACR,OAAM;oBACN,MAAK;oBACL,OAAO;wBACL;4BAAE,UAAU;4BAAM,SAAS;wBAA+B;wBAC1D;4BACE,WAAW,CAAC,GAAG;gCACb,MAAM,QAAQ,OAAO;gCACrB,IAAI,MAAM,QAAQ;oCAChB,OAAO,QAAQ,MAAM,CAAC;gCACxB;gCACA,IAAI,QAAQ,GAAG;oCACb,OAAO,QAAQ,MAAM,CAAC;gCACxB;gCACA,IAAI,QAAQ,QAAQ,KAAK,eAAe,EAAE;oCACxC,OAAO,QAAQ,MAAM,CAAC,CAAC,QAAQ,EAAE,KAAK,eAAe,CAAC,gBAAgB,CAAC;gCACzE;gCACA,OAAO,QAAQ,OAAO;4BACxB;wBACF;qBACD;8BAED,cAAA,8OAAC,gLAAA,CAAA,QAAK;wBACJ,MAAK;wBACL,KAAK;wBACL,KAAK,MAAM,mBAAmB;wBAC9B,UAAU,CAAC,QAAQ,KAAK,eAAe,IAAI;wBAC3C,UAAU,CAAC;4BACT,MAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;4BAC5B,KAAK,aAAa,CAAC,SAAS,QAAQ,SAAS,OAAO,MAAM;wBAC5D;;;;;;;;;;;8BAIJ,8OAAC,8KAAA,CAAA,OAAI,CAAC,IAAI;8BACR,cAAA,8OAAC,kMAAA,CAAA,SAAM;wBACL,MAAK;wBACL,UAAS;wBACT,SAAS;wBACT,KAAK;wBACL,UAAU,CAAC,QAAQ,KAAK,eAAe,IAAI;kCAC5C;;;;;;;;;;;;;;;;;;;;;;AAOX;uCAEe","debugId":null}},
    {"offset": {"line": 384, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Admin/Desktop/sty/diplom3/rideshare-frontend/src/app/trips/all/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { Card, Row, Col, Form, Input, DatePicker, InputNumber, Select, Button, Space, List, Tag, Divider, Spin, message } from 'antd';\nimport { SearchOutlined, FilterOutlined, SortAscendingOutlined } from '@ant-design/icons';\nimport dayjs from 'dayjs';\nimport Map from '@/components/Map';\nimport BookingModal from '@/components/BookingModal';\nimport { Trip } from '@/types/trip';\n\n// Default coordinates for Moscow center\nconst DEFAULT_COORDS: [number, number] = [55.7558, 37.6173];\n\ninterface Filters {\n  dateFrom: string;\n  dateTo: string;\n  priceMin: string;\n  priceMax: string;\n  seats: string;\n  departure: string;\n  destination: string;\n}\n\nconst AllTripsPage = () => {\n  const [trips, setTrips] = useState<Trip[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [selectedTrip, setSelectedTrip] = useState<Trip | null>(null);\n  const [isBookingModalOpen, setIsBookingModalOpen] = useState(false);\n  const [filters, setFilters] = useState<Filters>({\n    departure: '',\n    destination: '',\n    date_from: null,\n    date_to: null,\n    price_min: null,\n    price_max: null,\n    seats: null\n  });\n  const [sortField, setSortField] = useState('date');\n  const [sortOrder, setSortOrder] = useState<'asc' | 'desc'>('asc');\n\n  const fetchTrips = async () => {\n    try {\n      const token = localStorage.getItem('access_token');\n      if (!token) {\n        setError('Authentication required');\n        return;\n      }\n\n      const params = new URLSearchParams();\n      if (filters.dateFrom) params.append('date_from', filters.dateFrom);\n      if (filters.dateTo) params.append('date_to', filters.dateTo);\n      if (filters.priceMin) params.append('price_min', filters.priceMin);\n      if (filters.priceMax) params.append('price_max', filters.priceMax);\n      if (filters.seats) params.append('seats', filters.seats);\n      if (filters.departure) params.append('departure', filters.departure);\n      if (filters.destination) params.append('destination', filters.destination);\n\n      const response = await fetch(`http://localhost:8000/api/trips/?${params.toString()}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch trips');\n      }\n\n      const data = await response.json();\n      console.log('Received data:', data); // Debug log\n\n      // Handle paginated response\n      if (data.results) {\n        setTrips(data.results);\n      } else {\n        setTrips(data);\n      }\n      setError(null);\n    } catch (err) {\n      console.error('Error fetching trips:', err); // Debug log\n      setError(err instanceof Error ? err.message : 'An error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchTrips();\n  }, [filters, sortField, sortOrder]);\n\n  const handleFilterChange = (newFilters: Partial<Filters>) => {\n    setFilters(prev => ({ ...prev, ...newFilters }));\n    setLoading(true);\n    fetchTrips();\n  };\n\n  const handleSortChange = (value: string) => {\n    if (value === sortField) {\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortField(value);\n      setSortOrder('asc');\n    }\n  };\n\n  const handleBookingSuccess = () => {\n    setIsBookingModalOpen(false);\n    setSelectedTrip(null);\n    fetchTrips(); // Refresh the trips list\n    message.success('Trip booked successfully!');\n  };\n\n  const renderTripCard = (trip: Trip) => {\n    // Safely parse coordinates with validation\n    const parseCoords = (coordsStr: string): [number, number] | null => {\n      try {\n        const [lat, lng] = coordsStr.split(',').map(Number);\n        if (isNaN(lat) || isNaN(lng)) {\n          console.error('Invalid coordinates format:', coordsStr);\n          return null;\n        }\n        return [lat, lng];\n      } catch (error) {\n        console.error('Error parsing coordinates:', error);\n        return null;\n      }\n    };\n\n    const departureCoords = parseCoords(trip.departure_coords) || DEFAULT_COORDS;\n    const destinationCoords = parseCoords(trip.destination_coords) || DEFAULT_COORDS;\n\n    return (\n      <Card\n        key={trip.id}\n        className=\"mb-4 shadow-sm hover:shadow-md transition-shadow\"\n        title={\n          <div className=\"flex justify-between items-center\">\n            <span>{trip.departure_location} → {trip.destination_location}</span>\n            <Tag color={trip.status === 'active' ? 'green' : 'default'}>\n              {trip.status}\n            </Tag>\n          </div>\n        }\n      >\n        <Row gutter={[16, 16]}>\n          <Col span={12}>\n            <div className=\"space-y-2\">\n              <p><strong>Водитель:</strong> {trip.driver.username}</p>\n              <p><strong>Рейтинг водителя:</strong> {trip.driver.driver_rating}</p>\n              <p><strong>Дата:</strong> {dayjs(trip.date).format('DD.MM.YYYY')}</p>\n              <p><strong>Время:</strong> {trip.time}</p>\n              <p><strong>Цена:</strong> {trip.price} ₽</p>\n              <p><strong>Свободных мест:</strong> {trip.available_seats}</p>\n              {trip.description && (\n                <p><strong>Описание:</strong> {trip.description}</p>\n              )}\n            </div>\n          </Col>\n          <Col span={12}>\n            <div className=\"h-[200px] rounded-lg overflow-hidden\">\n              <Map\n                departureCoords={departureCoords as [number, number]}\n                destinationCoords={destinationCoords as [number, number]}\n                interactive={false}\n              />\n            </div>\n          </Col>\n          <Col span={24}>\n            {trip.status === 'active' && trip.available_seats > 0 && (\n              <Button\n                type=\"primary\"\n                onClick={() => {\n                  setSelectedTrip(trip);\n                  setIsBookingModalOpen(true);\n                }}\n              >\n                Забронировать\n              </Button>\n            )}\n          </Col>\n        </Row>\n      </Card>\n    );\n  };\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <h1 className=\"text-2xl font-bold mb-6 text-black\">Все поездки</h1>\n      \n      <Card className=\"mb-6\">\n        <Form layout=\"vertical\" onFinish={handleFilterChange}>\n          <Row gutter={[16, 16]}>\n            <Col span={8}>\n              <Form.Item label=\"Место отправления\">\n                <Input\n                  value={filters.departure}\n                  onChange={(e) => setFilters({ ...filters, departure: e.target.value })}\n                  placeholder=\"Введите место отправления\"\n                />\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item label=\"Место назначения\">\n                <Input\n                  value={filters.destination}\n                  onChange={(e) => setFilters({ ...filters, destination: e.target.value })}\n                  placeholder=\"Введите место назначения\"\n                />\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item label=\"Количество мест\">\n                <InputNumber\n                  value={filters.seats ? Number(filters.seats) : undefined}\n                  onChange={(value) => handleFilterChange({ seats: value?.toString() || '' })}\n                  placeholder=\"Минимальное количество мест\"\n                />\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item label=\"Дата от\">\n                <DatePicker\n                  value={filters.dateFrom ? dayjs(filters.dateFrom) : null}\n                  onChange={(date) => handleFilterChange({ dateFrom: date?.format('YYYY-MM-DD') || '' })}\n                  style={{ width: '100%' }}\n                />\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item label=\"Дата до\">\n                <DatePicker\n                  value={filters.dateTo ? dayjs(filters.dateTo) : null}\n                  onChange={(date) => handleFilterChange({ dateTo: date?.format('YYYY-MM-DD') || '' })}\n                  style={{ width: '100%' }}\n                />\n              </Form.Item>\n            </Col>\n            <Col span={8}>\n              <Form.Item label=\"Диапазон цен\">\n                <Space>\n                  <InputNumber\n                    placeholder=\"От\"\n                    value={filters.priceMin ? Number(filters.priceMin) : undefined}\n                    onChange={(value) => handleFilterChange({ priceMin: value?.toString() || '' })}\n                  />\n                  <InputNumber\n                    placeholder=\"До\"\n                    value={filters.priceMax ? Number(filters.priceMax) : undefined}\n                    onChange={(value) => handleFilterChange({ priceMax: value?.toString() || '' })}\n                  />\n                </Space>\n              </Form.Item>\n            </Col>\n          </Row>\n          <Row justify=\"end\">\n            <Space>\n              <Button icon={<FilterOutlined />} type=\"primary\" htmlType=\"submit\">\n                Применить фильтры\n              </Button>\n              <Select\n                defaultValue=\"date\"\n                style={{ width: 200 }}\n                onChange={handleSortChange}\n                options={[\n                  { label: 'По дате', value: 'date' },\n                  { label: 'По цене', value: 'price' },\n                  { label: 'По количеству мест', value: 'available_seats' },\n                ]}\n                prefix={<SortAscendingOutlined />}\n              />\n            </Space>\n          </Row>\n        </Form>\n      </Card>\n\n      {error && (\n        <div className=\"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded\">\n          {error}\n        </div>\n      )}\n\n      {loading ? (\n        <div className=\"flex justify-center items-center h-64\">\n          <Spin size=\"large\" />\n        </div>\n      ) : (\n        <List\n          dataSource={trips}\n          renderItem={renderTripCard}\n          pagination={{\n            pageSize: 10,\n            total: trips.length,\n            showSizeChanger: false,\n          }}\n          locale={{ emptyText: 'Нет доступных поездок' }}\n        />\n      )}\n      <BookingModal\n        trip={selectedTrip}\n        visible={isBookingModalOpen}\n        onClose={() => {\n          setIsBookingModalOpen(false);\n          setSelectedTrip(null);\n        }}\n        onSuccess={handleBookingSuccess}\n      />\n    </div>\n  );\n};\n\nexport default AllTripsPage; "],"names":[],"mappings":"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","debugId":null}}]
}