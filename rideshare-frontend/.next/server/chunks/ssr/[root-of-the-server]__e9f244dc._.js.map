{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Admin/Desktop/sty/diplom3/rideshare-frontend/src/components/Map.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/Map.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/Map.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA0R,GACvT,wDACA","debugId":null}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Admin/Desktop/sty/diplom3/rideshare-frontend/src/components/Map.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/Map.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/Map.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAsQ,GACnS,oCACA","debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Admin/Desktop/sty/diplom3/rideshare-frontend/src/app/trips/%5Bid%5D/page.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport { Trip } from '@/types/trip';\r\nimport Map from '@/components/Map';\r\nimport { format } from 'date-fns';\r\n\r\nexport default function TripDetailsPage({ params }: { params: { id: string } }) {\r\n  const [trip, setTrip] = useState<Trip | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const fetchTrip = async () => {\r\n      try {\r\n        const response = await fetch(`/api/trips/${params.id}`);\r\n        if (!response.ok) throw new Error('Failed to fetch trip');\r\n        const data = await response.json();\r\n        setTrip(data);\r\n      } catch (err) {\r\n        setError('Error loading trip details');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchTrip();\r\n  }, [params.id]);\r\n\r\n  const handleStatusChange = async (newStatus: string) => {\r\n    try {\r\n      const response = await fetch(`/api/trips/${params.id}`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ status: newStatus }),\r\n      });\r\n\r\n      if (!response.ok) throw new Error('Failed to update trip status');\r\n      const updatedTrip = await response.json();\r\n      setTrip(updatedTrip);\r\n    } catch (err) {\r\n      setError('Error updating trip status');\r\n    }\r\n  };\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n  if (error) return <div>{error}</div>;\r\n  if (!trip) return <div>Trip not found</div>;\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <div className=\"bg-white rounded-lg shadow-lg overflow-hidden\">\r\n        {/* Header */}\r\n        <div className=\"p-6 border-b\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <h1 className=\"text-2xl font-bold\">\r\n              {trip.departure_location} → {trip.destination_location}\r\n            </h1>\r\n            <span className={`px-4 py-2 rounded-full text-sm font-semibold\r\n              ${trip.status === 'active' ? 'bg-green-100 text-green-800' :\r\n                trip.status === 'completed' ? 'bg-blue-100 text-blue-800' :\r\n                trip.status === 'cancelled' ? 'bg-red-100 text-red-800' :\r\n                'bg-gray-100 text-gray-800'}`}>\r\n              {trip.status.charAt(0).toUpperCase() + trip.status.slice(1)}\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Map */}\r\n        <div className=\"h-64 w-full\">\r\n          <Map\r\n            departureCoords={trip.departure_coords.split(',').map(Number)}\r\n            destinationCoords={trip.destination_coords.split(',').map(Number)}\r\n            onMapClick={() => {}}\r\n          />\r\n        </div>\r\n\r\n        {/* Trip Details */}\r\n        <div className=\"p-6 grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          <div>\r\n            <h2 className=\"text-xl font-semibold mb-4\">Trip Details</h2>\r\n            <div className=\"space-y-3\">\r\n              <p><span className=\"font-medium\">Date:</span> {format(new Date(trip.date), 'PPP')}</p>\r\n              <p><span className=\"font-medium\">Time:</span> {trip.time}</p>\r\n              <p><span className=\"font-medium\">Price:</span> ${trip.price}</p>\r\n              <p><span className=\"font-medium\">Available Seats:</span> {trip.available_seats}</p>\r\n              <p><span className=\"font-medium\">Description:</span> {trip.description}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <div>\r\n            <h2 className=\"text-xl font-semibold mb-4\">Driver Information</h2>\r\n            <div className=\"space-y-3\">\r\n              <p><span className=\"font-medium\">Name:</span> {trip.driver.first_name} {trip.driver.last_name}</p>\r\n              <p><span className=\"font-medium\">Rating:</span> {trip.driver.driver_rating} ⭐</p>\r\n              <p><span className=\"font-medium\">Phone:</span> {trip.driver.phone_number}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        <div className=\"p-6 border-t bg-gray-50\">\r\n          <div className=\"flex justify-end space-x-4\">\r\n            <button\r\n              onClick={() => router.push(`/trips/${params.id}/edit`)}\r\n              className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\r\n            >\r\n              Edit Trip\r\n            </button>\r\n            {trip.status === 'active' && (\r\n              <>\r\n                <button\r\n                  onClick={() => handleStatusChange('completed')}\r\n                  className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700\"\r\n                >\r\n                  Complete Trip\r\n                </button>\r\n                <button\r\n                  onClick={() => handleStatusChange('cancelled')}\r\n                  className=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\r\n                >\r\n                  Cancel Trip\r\n                </button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":"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","debugId":null}}]
}